
{% extends 'base.html' %}
{% block content %}
<h3>Novo Registro de Auditoria</h3>
<form method="POST" action="/salvar">
  <div class="row mb-3">
    <div class="col-md-6">
      <label class="form-label">Prestador</label>
      <select name="nome_prestador" class="form-select" onchange="buscarCodigo(this.value)">
        <option value="">Selecione</option>
        <option value="Hospital Vida">Hospital Vida</option>
        <option value="Cl√≠nica Esperan√ßa">Cl√≠nica Esperan√ßa</option>
        <option value="Instituto Sa√∫de">Instituto Sa√∫de</option>
      </select>
    </div>
    <div class="col-md-6">
      <label class="form-label">C√≥digo Prestador</label>
      <input type="text" id="cod_prestador" name="cod_prestador" class="form-control" readonly>
    </div>
  </div>
  <div class="mb-3">
    <label class="form-label">Nome do Benefici√°rio</label>
    <input type="text" name="nome_beneficiario" class="form-control">
  </div>
  <div class="mb-3">
    <label class="form-label">CID</label>
    <input type="text" name="cid" class="form-control">
  </div>
  <button type="submit" class="btn btn-primary">üíæ Salvar Registro</button>
</form>

<script>
  function buscarCodigo(nome) {
    const codigos = {
      "Hospital Vida": "H001",
      "Cl√≠nica Esperan√ßa": "C002",
      "Instituto Sa√∫de": "I003"
    };
    document.getElementById("cod_prestador").value = codigos[nome] || "";
  }
</script>
{% endblock %}
